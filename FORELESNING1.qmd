---
title: "forelesning1quarto"
format: pdf
editor: visual
---

```{r}
rm (list = ls())
library(tidyverse)
# Use the gapminder data-set from the gapminder package
library(gapminder) 
data("gapminder")
options(scipen = 999)
```

From the gapminder dataset, select country, year & pop

```{r}
# kan bruke
gapminder$country

#eller
gapminder[,c("year","country","pop")]
#eller

select(gapminder, country)
# eller CTRL + SHIFT + M, som gjør pipe operatøren
gapminder %>%
  select(country, year, pop)

# bruke select til å deselecte, eller droppe noen kolonner
gapminder %>% 
  select(-continent,-lifeExp, -gdpPercap)

# bruke en bokstav til å selecte alt som starter på c
gapminder %>% 
  select(starts_with("c"))

# Ta alt som slutter på exp
gapminder %>%
  select(ends_with("Exp"))
```

Q1: From the gapminder dataset, filter out the data from Norway before and including 1977.

```{r}
gapminder %>%
  filter(country=="Norway") %>% 
  filter(year <= 1977)

# eller bruke & operatøren
gapminder %>% 
  filter(country=="Norway" & year<=1977)
# eller bare bruke komma
gapminder %>%
  filter(country=="Norway", year<=1977)
```

Q2: Filter the data from Norway or Sweden before and including 1970.

```{r}
gapminder %>% 
  filter(country %in% c("Norway", "Sweden"), year<=1970)
```

Q3. Filter the data from Norway, Sweden, or Denmark before and including 1970.

```{r}
 gapminder %>%
  filter(country %in% c("Norway", "Sweden","Denmark"), year <= 1970)
```

Q4. Following Q3. Let us say you do not like long variable names such as "gdpPercap".

Rename "gdpPercap" by gdp_pc

```{r}
gapminder <-gapminder %>%
  rename("gdp_pc" = "gdpPercap")
```

Q5. Following Q4. Arrange rows according to ascending order of "gdp_pc"

```{r}
gapminder %>%
  arrange("gdp_pc")
```

Q6. Following Q5. Arrange rows according to descending order of "gdp_pc"

```{r}
# ane ikk koffer det her ikke fungere, men tvile på at man noen gang blir å bruke
df2<-gapminder %>% 
  arrange(desc(gdp_pc))
```

Q7. Arrange rows according to ascending order of "gdp_pc", within each year.

```{r}

```

Q8.Data from Norway.

Create a new variable that is GDP from gdpPercap & pop

```{r}
gapminder <- gapminder %>%
  mutate(GDP = gdp_pc*pop)
```

Q9. Data from Norway.

Create a new variable called "gdpNOK" that is GDP per per billion NOK (1 000 000 000 NOK)

(1 USD=9 NOK)

```{r}
 gapminder <- gapminder %>%
  mutate(gdpNOK = GDP*9) %>% 
   mutate (gdpNOK = gdpNOK/1000000000)
```

Q10.Use mutate and ifelse to Categorise "gdpNOK" into 3 categories,

(i.e., less than or equal to 999, between 1000 and 1999, and greater than 2000).

```{r}
x<-1
y<-23

x+y
```
